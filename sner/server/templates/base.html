<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>sner4 - {% block title %}{% endblock %}</title>

	<script type="text/javascript" src="{{ url_for('static', filename='jquery/jquery-3.2.1.min.js') }}"></script>

	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='bootstrap/css/bootstrap.min.css') }}" />
	<script type="text/javascript" src="{{ url_for('static', filename='bootstrap/js/bootstrap.min.js') }}"></script>

	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='toastr/toastr.min.css') }}" />
	<script type="text/javascript" src="{{ url_for('static', filename='toastr/toastr.min.js') }}"></script>

	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='datatables/dataTables.bootstrap.min.css') }}" />
	<script type="text/javascript" src="{{ url_for('static', filename='datatables/jquery.dataTables.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='datatables/dataTables.bootstrap.min.js') }}"></script>

	<style>
		/* menu image */
		.navbar-brand { padding: 0px; }
		.navbar-brand img { height: 100%; padding: 5px; width: auto; }

		/* required items on forms */
		label.control-label.required:after { content:"*"; color:red; }
	</style>

	<script type="text/javascript">
		// datatables columns api helper
		function columns_with_buttons(cols) {
			return cols.map(function(d) { return (d instanceof Object) ? d : {"name": d, "title": d, "data": d, "render": $.fn.dataTable.render.text()};})
				.concat({"name": "_buttons", "title": "_buttons", "data": "_buttons", "render": null, "orderable": false});
		}

		var datatable_static_options = {
			"columnDefs": [ {
				"targets": "no-sort",
				"orderable": false,
			} ],
			"order": [[ 0, "asc" ]],
			"paging": false,
			"info" : false
		};

		var datatable_ajax_options = {
			"serverSide": true,
			"processing": true,
			"order": [[ 0, "asc" ]],
			"dom": "<flprtip>",
			"info": true,

			"paging": true,
			"pageLength": 10,
			"drawCallback": function(settings) {
				var pagination = $('#'+this.attr('id')+'_wrapper .dataTables_paginate');
				var totalPages = this.api().page.info().pages;
				if (totalPages <= 1) {
					pagination.hide();
				} else {
					pagination.show();
				}
			}
		};

		$(document).ready(function() {
			if (typeof datatable_static_custom !== 'undefined') {
				datatable_static_options = $.extend({}, datatable_static_options, datatable_static_custom);
			}
			$('.datatable_static').DataTable(datatable_static_options);

			if (typeof datatable_ajax_custom !== 'undefined') {
				datatable_ajax_options = $.extend({}, datatable_ajax_options, datatable_ajax_custom);
			}
			$('.datatable_ajax').DataTable(datatable_ajax_options);
		});
	</script>

	{% block style %}{% endblock %}
	{% block script %}{% endblock %}
</head>
<body>
	<nav class="navbar navbar-default">
	<div class="container">
        	<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="{{ url_for('index_route') }}"><img src="{{ url_for('static', filename='logo.png') }}"></a>
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav">
				<li><a href="{{ url_for('scheduler.task_list_route') }}">sch:Tasks</a></li>
				<li><a href="{{ url_for('scheduler.queue_list_route') }}">sch:Queues</a></li>
				<li><a href="{{ url_for('scheduler.job_list_route') }}">sch:Jobs</a></li>
				<li><a href="{{ url_for('storage.host_list_route') }}">st:Hosts</a></li>
				<li><a href="{{ url_for('storage.service_list_route') }}">st:Services</a></li>
				<li><a href="{{ url_for('storage.note_list_route') }}">st:Notes</a></li>
				<li><a href="{{ url_for('storage.host_vizdns_route') }}">st:Hosts:vizdns</a></li>
				<li><a href="{{ url_for('storage.service_vizports_route') }}">st:Services:vizports</a></li>
			</ul>
		</div><!--/.nav-collapse -->
	</div>
	</nav>

	<div class="container-fluid">
		{% block content %}
		{% endblock %}
	</div>

	<script type="text/javascript">
		toastr.options = {
			"positionClass": "toast-top-right",
		};
		{% for category, message in get_flashed_messages(with_categories=true) %}
		toastr['{{ category }}']('{{ message }}');
		{% endfor %}
	</script>
</body>
</html>
