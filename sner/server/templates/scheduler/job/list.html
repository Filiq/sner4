{% extends "base.html" %}

{% block script %}
<script type="text/javascript">
	var dt_job_list_table_options = {
		'ajax': {'url': "{{ url_for('scheduler.job_list_json_route', **request.args) }}", 'method': 'POST'},
		'columns': [
			dt_column('id'),
			dt_column('queue_id', {'visible': false}),
			dt_column('queue_name', {'render': function(data, type, row, meta) {return scheduler_pagepart_queue_reference(row);}}),
			dt_column('assignment'),
			dt_column('retval'),
			dt_column('output'),
			dt_column('time_start'),
			dt_column('time_end'),
			dt_column_buttons(scheduler_pagepart_job_controls)
		],
	};
	$(document).ready(function() {
		var dt_job_list_table = $('#job_list_table').DataTable($.extend({}, dt_ajax_options, dt_job_list_table_options));
	});
</script>
{% endblock %}

{% block content %}
<div class="jobs">
	<h1>Jobs list</h1>

	<table id="job_list_table" class="table table-hover table-responsive table-condensed"></table>
</div>
{% endblock %}
